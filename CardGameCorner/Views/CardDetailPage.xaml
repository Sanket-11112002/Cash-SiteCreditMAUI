<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="CardGameCorner.Views.CardDetailPage"
              NavigationPage.HasNavigationBar="False">

    <Grid RowDefinitions="Auto,*">
        <!-- Header -->
        <Grid Grid.Row="0" 
              Padding="20,10"
              ColumnDefinitions="Auto,*,Auto">


            <!-- Back Button -->
            <Button Grid.Column="0"
                    Text="Back"
                    TextColor="White"
                    BackgroundColor="Transparent"
                    FontSize="16"
                    Padding="0"
                    Margin="0"
                    Command="{Binding GoBackCommand}"/>

            <!-- Done Button -->
            <Button Grid.Column="2"
                    Text="Done"
                    TextColor="White"
                    BackgroundColor="Transparent"
                    FontSize="16"
                    Padding="0"
                    Margin="0"
                    Command="{Binding DoneCommand}"/>
        </Grid>

        <ScrollView Grid.Row="1">
            <VerticalStackLayout Spacing="20" 
                               Padding="20">

                <!-- Game Logo -->
                <Image Source="pokemonlogo.png"
                       HeightRequest="40"
                       HorizontalOptions="Center"
                       Margin="0,0,0,10"/>

                <!-- Card Image with Border -->
                <Border StrokeShape="RoundRectangle 10"
                        StrokeThickness="2"
                        Stroke="#00FF9D"
                        BackgroundColor="Transparent"
                        Padding="0"
                        HeightRequest="400"
                        HorizontalOptions="Center">
                    <Image Source="{Binding Card.ImageUrl}"
                           Aspect="AspectFit"
                           Margin="10"/>
                </Border>

                <!-- Card Details Section -->
                <Border BackgroundColor="#2A2A2A"
                        StrokeShape="RoundRectangle 10"
                        Padding="10">
                    <VerticalStackLayout Spacing="1">
                        <Label Text="{Binding Card.Name}"
                               TextColor="White"
                               FontSize="20"
                               HorizontalOptions="Center"/>

                        <Label Text="{Binding Card.Rarity}"
                               TextColor="LightGray"
                               FontSize="16"
                               HorizontalOptions="Center"/>

                        <Label Text="{Binding Card.Category}"
                               TextColor="LightGray"
                               FontSize="16"
                               HorizontalOptions="Center"/>
                    </VerticalStackLayout>
                </Border>


                <!-- Dropdowns and Toggles -->
                <VerticalStackLayout Grid.Row="1" Spacing="15">
                    <!-- Language Dropdown -->
                    <Border StrokeThickness="0"
                        BackgroundColor="#2A2A2A"
                        StrokeShape="RoundRectangle 5">
                        <Grid Padding="15"
                          ColumnDefinitions="*,Auto">
                            <Label Text="Choose Laguages.."
                               TextColor="White"
                               VerticalOptions="Center"/>
                            <Picker 
 ItemsSource="{Binding Languages}"  

        
BackgroundColor="#2A2A2A" TextColor="White" VerticalOptions="Center"  
 />

                            <!--<Image Grid.Column="1"
                               Source="arrow_down.png"
                               BackgroundColor="White"
                               
                               HeightRequest="12"
                               WidthRequest="12"
                               VerticalOptions="Center"/>-->
                        </Grid>
                    </Border>

                    <!-- Condition Dropdown -->
                    <Border StrokeThickness="0"
                        BackgroundColor="#2A2A2A"
                        StrokeShape="RoundRectangle 5">
                        <Grid Padding="15"
                          ColumnDefinitions="*,Auto">
                            <Label Text="Choose condition/grade..."
                               TextColor="White"
                               VerticalOptions="Center"/>
                            <Image Grid.Column="1"
                               Source="arrow_down.png"
                               HeightRequest="12"
                               WidthRequest="12"
                               VerticalOptions="Center"/>
                        </Grid>
                    </Border>

                    <!-- Toggles -->
                    <Grid ColumnDefinitions="*,*" ColumnSpacing="15">
                        <!-- 1ST Edition Toggle -->
                        <Border Grid.Column="0"
                            StrokeThickness="0"
                            BackgroundColor="#2A2A2A"
                            StrokeShape="RoundRectangle 20">
                            <HorizontalStackLayout Padding="15">
                                <Switch IsToggled="{Binding Card.IsFirstEdition}"
                                    OnColor="#007AFF"/>
                                <Label Text="1ST Edition"
                                   TextColor="White"
                                   VerticalOptions="Center"
                                   Margin="10,0,0,0"/>
                            </HorizontalStackLayout>
                        </Border>

                        <!-- Reverse Toggle -->
                        <Border Grid.Column="1"
                            StrokeThickness="0"
                            BackgroundColor="#2A2A2A"
                            StrokeShape="RoundRectangle 20">
                            <HorizontalStackLayout Padding="15">
                                <Switch IsToggled="{Binding Card.IsReverse}"
                                    OnColor="#007AFF"/>
                                <Label Text="Reverse"
                                   TextColor="White"
                                   VerticalOptions="Center"
                                   Margin="10,0,0,0"/>
                            </HorizontalStackLayout>
                        </Border>
                    </Grid>
                </VerticalStackLayout>

                <!-- Pricing -->
                <Grid Grid.Row="2"
                  ColumnDefinitions="*,*"
                  ColumnSpacing="15"
                  Margin="0,0,0,20">

                    <!-- Cash Price -->
                    <Border Grid.Column="0"
                        StrokeThickness="0"
                        BackgroundColor="#2A2A2A"
                        StrokeShape="RoundRectangle 10">
                        <VerticalStackLayout Padding="15">
                            <Label Text="Cash"
                               TextColor="LightGray"
                               FontSize="14"/>
                            <Label Text="{Binding Card.CashPrice, StringFormat='{0:F2} EUR'}"
                               TextColor="White"
                               FontSize="18"
                               FontAttributes="Bold"/>
                        </VerticalStackLayout>
                    </Border>

                    <!-- Site Credit Price -->
                    <Border Grid.Column="1"
                        StrokeThickness="0"
                        BackgroundColor="#2A2A2A"
                        StrokeShape="RoundRectangle 10">
                        <VerticalStackLayout Padding="15">
                            <Label Text="Site credit"
                               TextColor="LightGray"
                               FontSize="14"/>
                            <Label Text="{Binding Card.SiteCredit, StringFormat='{0:F2} EUR'}"
                               TextColor="White"
                               FontSize="18"
                               FontAttributes="Bold"/>
                        </VerticalStackLayout>
                    </Border>
                </Grid>
                
                <!-- Quantity Input -->
                <Border Grid.Row="3"
                    StrokeThickness="0"
                    BackgroundColor="#2A2A2A"
                    StrokeShape="RoundRectangle 5"
                    Margin="0,10,0,0">
                    <Grid ColumnDefinitions="Auto,*"
                      Padding="15">
                        <Label Text="Quantity"
                           TextColor="White"
                           VerticalOptions="Center"
                           Grid.Column="0"/>
                        <Label Text="1"
                           TextColor="White"
                           HorizontalOptions="End"
                           VerticalOptions="Center"
                           Grid.Column="1"/>
                    </Grid>
                </Border>

                <!-- Add to my list Button -->
                <Button Grid.Row="4"
                Text="Add to my list"
                TextColor="White"
                BackgroundColor="Transparent"
                BorderColor="#00FF9D"
                BorderWidth="1"
                CornerRadius="5"
                Margin="0,10,0,20"
                HeightRequest="50"
                ContentLayout="Left,10">
                    <Button.ImageSource>
                        <FontImageSource Glyph="âœ“"
                        Color="#00FF9D"
                        Size="18"/>
                    </Button.ImageSource>
                </Button>

            </VerticalStackLayout>
        </ScrollView>
    </Grid>
</ContentPage>